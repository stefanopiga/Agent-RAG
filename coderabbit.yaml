# CodeRabbit Configuration
# AI-powered code review for pull requests
# Reference: docs/stories/4/tech-spec-epic-4.md#CodeRabbit-Integration
# yaml-language-server: $schema=https://coderabbit.ai/integrations/schema.v2.json

language: "it-IT"

reviews:
  # Review profile: chill (less aggressive, constructive feedback)
  profile: chill

  # Include high-level summary in reviews
  high_level_summary: true

  # Enable automatic code review on every PR
  auto_review:
    enabled: true
    # Review draft PRs as well
    drafts: true

  # Don't automatically request changes (advisory mode)
  request_changes_workflow: false

  # Show review status in PR
  review_status: true

  # Path filters: exclude build artifacts and dependencies
  path_filters:
    - "!**/node_modules/**"
    - "!**/dist/**"
    - "!**/coverage/**"
    - "!**/__pycache__/**"
    - "!**/htmlcov/**"
    - "!**/.venv/**"
    - "!**/venv/**"
    - "!**/playwright-report/**"
    - "!**/test-results/**"
    - "!**/.pytest_cache/**"
    - "!**/site/**"
    - "!**/.bmad/**"
    - "!**/documents_copy_mia/**"

  # Enable code quality tools
  tools:
    ruff:
      enabled: true
    gitleaks:
      enabled: true
    markdownlint:
      enabled: true

# Knowledge base configuration
knowledge_base:
  web_search:
    enabled: true
  code_guidelines:
    enabled: true
    filePatterns:
      - "docs/architecture.md"
      - "docs/coding-standards.md"
      - "docs/testing-strategy.md"
      - "docs/stories/**/*.md"

chat:
  # Disable ASCII art in responses
  art: false
  # Enable auto-reply for interactive reviews
  auto_reply: true
